<!DOCTYPE html>
<html amp>
<head>
    <meta charset="utf-8">
    <title>Copy Code</title>
    <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
</head>
<body>
    <script>
        window.onload = function() {
            setTimeout(function() {
                const hash = decodeURIComponent(window.location.hash.substr(1));
                const textarea = document.createElement('textarea');
                textarea.value = hash;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textarea);
                    console.log('Code copied:', textarea.value); // Debugging line
                    document.body.innerHTML = successful ? '<p>Code copied to clipboard.</p>' : '<p>Failed to copy code.</p>';
                } catch (err) {
                    console.error('Unable to copy:', err);
                    document.body.innerHTML = '<p>Failed to copy code due to an error.</p>';
                }
            }, 100); // Add a slight delay to ensure everything is loaded properly
        }
    </script>
</body>
</html>
